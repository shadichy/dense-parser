import e from"emmet";const t={".avif":"avif",".bmp":"bmp",".gif":"gif",".ico":"x-icon",".jpeg":"jpeg",".jpg":"jpeg",".png":"png",".svg":"svg+xml",".tif":"tiff",".tiff":"tiff",".webp":"webp"},s=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],r=e=>"[object Array]"===Object.prototype.toString.call(e);function a(t,i="div"){if("string"==typeof t)try{return e.default(t)}catch(e){return t}let o={},n="",l="";const p=-1!==s.indexOf(i);function f(e){switch(e){case"tag":i=t[e];break;case"panel":p||(n+=a(t[e],"nav"));break;case"header":case"footer":p||(n+=a(t[e],e));break;case"_":case"content":p?(o.title=t[e],o.alt=t[e]):"string"!=typeof t[e]&&r(t[e])?t[e].forEach((e=>n+=a(e))):n+=a(t[e]);break;case"style":const{classes:s,styles:f}=c(t[e],"body"==i);s.forEach((e=>l+=" "+e)),""!=f&&(o[e]=f);break;case"title":case"desc":p&&(o.title=t[e],o.alt=t[e]);break;case"class":r(t[e])?t[e].forEach((e=>l+=e+" ")):l=t[e];break;case"#":case"comment":n+=`\x3c!-- ${t[e]} --\x3e`;case"stylesheet":case"preview":case"script":case"keywords":case"logo":case"lang":break;case"type":if("body"==i)break;default:o[e]=t[e]}}r(t)?t.forEach((e=>f(e))):Object.keys(t).forEach((e=>f(e))),""!==l&&(o.class=l.trimStart().trimEnd());let y="";return Object.entries(o).forEach((([e,t])=>y+=`${e}="${t}"`)),`<${i}${""===y?"":" "+y}${p?"/>":`>${n}</${i}>`}`}function c(t,s){if("string"==typeof t)try{return{classes:[],styles:e.default(t,{type:"stylesheet"})}}catch(e){return{classes:[],styles:t}}let r=[],a="";return s||(t.size||(t.size=1),t.type||(t.type="box")),Object.keys(t).forEach((e=>{switch(e){case"design":r.push(t[e]);break;case"type":r.push(t[e]+t.size);break;case"centerChild":case"size":break;case"border-radius":a+=`${e}:${"full"==t[e]?"100vw":t[e]};`;break;default:a+=`${e}:${t[e]};`}})),{classes:r,styles:a}}var i={parse:function(e){const s=e.title||"Document",i=e.type||"website",o=e.lang||"en";let n="";if(e.logo){const s=e.logo.match(/\.([a-zA-Z0-9_]+)/g),r=t[s[s.length-1].toLowerCase()]||!1;n=`<link rel="shortcut icon"href="${e.logo}"${r?`type="image/${r}"`:""}/>`,delete e.logo}let l="";e.preview&&(l=`<meta property="og:image"content="${e.preview}"/><meta name="twitter:card"content="summary_large_image"/>`,delete e.preview);let p="";e.keywords&&("string"==typeof e.keywords?p=e.keywords:e.keywords.forEach(((e,t)=>p+=(0==t?"":", ")+e)),p=`<meta name="keywords"content="${p}"/>`,delete e.keywords);let f="";e.desc&&(f=`<meta property="description"content="${e.desc}"/><meta property="og:description"content="${e.desc}"/>`,delete e.desc);let y="";if(e.stylesheet){let t="";("string"!=typeof e.stylesheet&&r(e.stylesheet)?e.stylesheet:[e.stylesheet]).forEach((e=>{if("string"==typeof e){if(!e)return;const s=e.match(/\.s?[ca]{1}ss/gi);if(!s)return void(t+=e);""!=s[s.length-1]&&e.endsWith(s[s.length-1])?y+=`<link rel="stylesheet"href="${e}">`:t+=e}else Object.entries(e).forEach((([e,s])=>t+=`${e}{${c(s).styles}}`))})),""!==t&&(y+=`<style>${t}</style>`),delete e.stylesheet}let g="";if(e.script){let t="";("object"!=typeof e.script?[e.script]:r(e.script)?e.script:Object.values(e.script)).forEach((e=>{if("function"==typeof e)t+=e.toString();else{if(!e)return;const s=e.match(/\.(([cm]?[tjlecs]+s[xm0-9]?)|((lit)?((iced)|(coffee)))|eg)/gi);if(!s)return void(t+=e);""!=s[s.length-1]&&e.endsWith(s[s.length-1])?g+=`<script language="javascript"type="text/javascript"src="${e}"><\/script>`:t+=e}})),""!==t&&(g+=`<script language="javascript"type="text/javascript">${t}<\/script>`),delete e.script}return`<!DOCTYPE html><html lang="${o}"><head><meta charset="UTF-8"/><meta http-equiv="X-UA-Compatible"content="IE=edge"/><meta name="viewport"content="width=device-width,initial-scale=1.0"/><title>${s}</title>${n}${p}<meta property="og:title"content="${s}"/><meta property="og:type"content="${i}"/>${f}${l}${y}${g}</head>${a(e,"body")}</html>`},parseElement:a};export{i as default};
//# sourceMappingURL=parser.es.js.map
